<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Passafe</title>
        <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';">

        <!-- Insert this line above script imports  -->
        <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/animate.css">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/fontawesome.css">

        <script src="js/jq-bs-bundle.js"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/TweenMax.min.js" ></script>
        <script src="js/wavify-js.js" ></script>
        <script src="js/jquery.wavify.js" ></script>
        <link rel="stylesheet" type="text/css" href="css/datatables.min.css"/>
        <script type="text/javascript" src="js/datatables.min.js"></script>
    </head>
    <body style="height: 100vh;" class="overflow-hidden">
        <div class="modal" id="addEntryModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="addEntryModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered draggable" role="document">
                <div class="modal-content" id="addEntryDialog">
                    <div class="modal-header" data-modal="header" id="addEntryHeader">
                        <span class="modal-title " id="addEntryModalLabel">Add Entry</span>
                        <button type="button" class="close button-close p-0 m-0" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="container">
                            <dl class="row">
                                <dt class="col-2">Name</dt>
                                <dd class="col-10">
                                    <div class="input-group input-group-sm">
                                        <input type="text" class="form-control form-control-sm" id="modal_entryName" placeholder="Entry name...">
                                        <div class="input-group-append btn-group btn-group-sm dropright">
                                            <button type="button btn-sm" class="btn btn-outline-secondary" id="iconSelected" 
                                            data-toggle="popover" data-container="body" data-html="true" title="Entry Icon" data-trigger="focus">
                                                <i class="fa fa-key"></i>
                                            </button>
                                        </div>    
                                    </div>
                                </dd>

                                <dt class="col-2">Username</dt>
                                <dd class="col-10"><input type="text" class="form-control form-control-sm" id="modal_entryUsername" placeholder="Entry Username..."></dd>

                                <dt class="col-2">Password</dt>
                                <dd class="col-10">
                                    <div class="input-group input-group-sm">
                                        <input type="password" onkeyup="verifyPassword(this.value)" class="form-control " id="modal_entryPassword" placeholder="Entry Password...">
                                        <div class="input-group-append" id="button-addon4">
                                            <button class="btn btn-outline-secondary" type="button" id="eyeChangePass" onclick="changeVisPassButton()"><i class="fa fa-eye-slash"></i></button>
                                            <button class="btn btn-outline-secondary" type="button" id="gearGeneratePass" data-toggle="popover" data-container="body" data-html="true" title="Generate Password Options"><i class="fa fa-cog" id="i_gear"></i></button>
                                        </div>
                                    </div>
                                    <div class="progress mt-1">
                                        <div class="progress-bar" id="passwordsafe" role="progressbar" style="width: 0%;" aria-valuemax="100"></div>
                                    </div>
                                </dd>
                                        
                                <dt class="col-2">URL</dt>
                                <dd class="col-10"><input type="url" class="form-control form-control-sm" id="modal_entryUrl" placeholder="Entry URL..."></dd>

                                <dt class="col-2">Database</dt>
                                <dd class="col-10">
                                    <select class="form-control form-control-sm" id="databases_addentry">
                                    </select>
                                </dd>

                                <dt class="col-2">Level</dt>
                                <dd class="col-10">
                                    <input type="range" class="custom-range form-control-sm" min="0" max="5" id="modal_entryLevel" placeholder="Entry name...">
                                    <div class="d-flex justify-content-between">
                                        <span class="">0</span>
                                        <span class="">1</span>
                                        <span class="">2</span>
                                        <span class="">3</span>
                                        <span class="">4</span>
                                        <span class="">5</span>
                                    </div>
                                </dd>
                            </dl>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="addEntry()">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterAddEntry" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Add Entry
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#addEntryDialog").draggable({ handle: "#addEntryHeader", containment: "#addEntryModal" }); 
            </script>
        </div>
        <div class="modal" id="updateEntryModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="updateEntryModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" id="updateEntryDialog">
                    <div class="modal-header" data-modal="header" id="updateEntryHeader">
                        <span class="modal-title">Update Entry</span>
                        <button type="button" class="close button-close p-0 m-0 text-white" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="container">
                            <dl class="row">
                                <dt class="col-2">Name</dt>
                                <dd class="col-10">
                                    <div class="input-group input-group-sm">
                                        <input type="text" class="form-control form-control-sm" id="Updatemodal_entryName" placeholder="Entry name...">
                                        <div class="input-group-append btn-group btn-group-sm dropright">
                                            <button type="button btn-sm" class="btn btn-outline-secondary dropdown-toggle" id="iconSelectedUpdate" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <i class="fa fa-key"></i>
                                            </button>
                                            <div class="dropdown-menu" id="dropdownIconsUpdate">
                                                <h6 class="dropdown-header" >Choose an Icon</h6>
                                                <button class="dropdown-item" type="button"><i class='fa fa-key' style='color: #ff9900;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-globe' style='color: #00790a;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-terminal' style='color: #000000;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-at' style='color: #ff351b;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-server' style='color: #2e2e2e;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-file' style='color: #949494;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-address-card' style='color: #008cff;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-apple' style='color: #000000;'> </i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-cc-visa' style='color: #0051ff;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-cog' style='color: #00a308;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-comments' style='color: #006eff;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-desktop' style='color: #000000;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-gamepad' style='color: #6b0059;'></i></button>
                                                <button class="dropdown-item" type="button"><i class='fa fa-heart' style='color: #ff0000;'></i></button>
                                            </div>
                                        </div>    
                                    </div>
                                </dd>

                                <dt class="col-2">Username</dt>
                                <dd class="col-10"><input type="text" class="form-control form-control-sm" id="Updatemodal_entryUsername" placeholder="Entry Username..."></dd>

                                <dt class="col-2">Password</dt>
                                <dd class="col-10">
                                    <div class="input-group input-group-sm">
                                        <input type="password" onkeyup="verifyPasswordUpdate(this.value)" class="form-control " id="Updatemodal_entryPassword" placeholder="Entry Password...">
                                        <div class="input-group-append" id="button-addon4">
                                            <button class="btn btn-outline-secondary" type="button" id="eyeChangePassUpdate" onclick="changeVisPassButtonUpdate()"><i class="fa fa-eye-slash"></i></button>
                                            <button class="btn btn-outline-secondary" type="button" id="gearGeneratePassUpdate" onclick="generatePassButtonUpdate()" data-toggle="popover"><i class="fa fa-cog" id="i_gearUpdate"></i></button>
                                        </div>
                                    </div>
                                    <div class="progress mt-1">
                                        <div class="progress-bar" id="passwordsafeUpdate" role="progressbar" style="width: 0%;" aria-valuemax="100"></div>
                                    </div>
                                </dd>
                                        
                                <dt class="col-2">URL</dt>
                                <dd class="col-10"><input type="url" class="form-control form-control-sm" id="Updatemodal_entryUrl" placeholder="Entry URL..."></dd>

                                <dt class="col-2">Level</dt>
                                <dd class="col-10">
                                    <input type="range" class="custom-range form-control-sm" min="0" max="5" id="Updatemodal_entryLevel" placeholder="Entry name...">
                                    <div class="d-flex justify-content-between">
                                        <span class="">0</span>
                                        <span class="">1</span>
                                        <span class="">2</span>
                                        <span class="">3</span>
                                        <span class="">4</span>
                                        <span class="">5</span>
                                    </div>
                                </dd>
                                <input type="text" style="display: none;" id="updateRowID">
                            </dl>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="UpdateEntry()">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterUpdateEntry" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Update Entry
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#updateEntryDialog").draggable({ handle: "#updateEntryHeader", containment: "#updateEntryModal" }); 
            </script>
        </div>
        <div class="modal" id="masterKey" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="masterKeyLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered draggable" role="document" >
                <div class="modal-content" id="masterKeyDialog">
                    <div class="modal-header" data-modal="header" id="masterKeyHeader">
                        <span class="modal-title text-light" >Master Key</span>
                        <button type="button" class="close button-close p-0 m-0" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="form-group"  id="showallFormgroup">
                            <label for="passwordKeyMasterUnlock">Master Key</label>
                            <div class="input-group input-group-sm">
                                <input type="password" class="form-control" id="passwordKeyMasterUnlock" placeholder="Masterkey..." value="" autofocus>
                                <div class="input-group-append" id="button-addon4">
                                    <button class="btn btn-outline-secondary" type="button" id="eyeChangePassUnlock" onclick="changeVisPassButtonUnlock()"><i class="fa fa-eye-slash"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" id="showPasswordConfirmFormgroup" style="display: none;">
                            <label for="passwordKeyMasterUnlock">Master Key</label>
                            <div class="input-group input-group-sm">
                                <input type="password" class="form-control" id="passwordKeyMasterUnlockPassword" placeholder="Masterkey..." value="">
                                <div class="input-group-append" id="button-addon4">
                                    <button class="btn btn-outline-secondary" type="button" id="eyeChangePassUnlockVerifypassword" onclick="changeVisPassButtonVerifyPassword()"><i class="fa fa-eye-slash"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" style="display: none;" onclick="askMasterkeyVerify()" id="showPassMasterKeyButton">
                                    Show Password
                                </button>
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="askMasterkey()" id="askMasterKeyButton">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterMasterKey" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Verify
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#masterKeyDialog").draggable({ handle: "#masterKeyHeader", containment: "#masterKey" }); 
            </script>
        </div>
        <div class="modal animate__animated animate__bounceInUp" id="addMasterKey" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="masterKeyAddLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered draggable" role="document">
                <div class="modal-content" id="addMasterKeyDialog">
                    <div class="modal-header" data-modal="header" id="addMasterKeyHeader">
                        <span class="modal-title " >Master Key Config</span>
                        <button type="button" class="close button-close p-0 m-0 text-white" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="form-group">
                        <label for="passwordKeyMasterUnlock">Add Master Key</label>
                        <div class="input-group input-group-sm">
                            <input type="password" class="form-control" id="passwordKeyMasterAddMasterKey" placeholder="Masterkey..." value="">
                            <div class="input-group-append" id="button-addon4">
                                <button class="btn btn-outline-secondary" type="button" id="eyeChangePassAddMasterkey" onclick="changeVisPassButtonAddMasterkey()"><i class="fa fa-eye-slash"></i></button>
                            </div>
                            <small class="text-muted">We ask you this Master Key every time you sign in, you can not forget this password.</small>
                        </div>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="safeMasterkey()" id="askMasterKeyButtonAddMaster">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiteraddMasterKey" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Add Masterkey
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#addMasterKeyDialog").draggable({ handle: "#addMasterKeyHeader", containment: "#addMasterKey" }); 
            </script>
        </div>
        <div class="modal" id="addDatabase" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="addDatabaseLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" id="addDatabaseDialog">
                    <div class="modal-header" data-modal="header" id="addDatabaseHeader">
                        <span class="modal-title">Add database</span>
                        <button type="button" class="close button-close p-0 m-0 text-white" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="form-group">
                            <label for="passwordKeyMasterUnlock">Database name</label>
                            <input type="text" class="form-control form-control-sm" id="addDatabaseNameinput" placeholder="Name..." value="">
                            <small class="text-muted">This database will keep all the passwords of this category.</small>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="addDatabase()" id="buttonAdddatabaseModal">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterAddDatabase" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Add Database
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#addDatabaseDialog").draggable({ handle: "#addDatabaseHeader", containment: "#addDatabase" }); 
            </script>
        </div>
        <div class="modal" id="deleteDatabase" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="deleteDatabaseLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" id="deleteDatabaseDialog">
                    <div class="modal-header" data-modal="header" id="deleteDatabaseHeader">
                        <span class="modal-title">Delete database</span>
                        <button type="button" class="close button-close p-0 m-0 text-white" data-dismiss="modal" aria-label="Close" id="cancelClosedeleteDatabase">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="form-group">
                            <label for="deleteDatabaseNameinput">Choose a Database</label>
                            <select class="form-control form-control-sm" id="deleteDatabaseNameinput">
                            </select>
                        </div>
                        <div id="confirmDatabaseTobeDelete" class="border-top pt-1" style="display: none;">
                            <small class="text-muted">For security reasons please type your masterkey.</small>
                            <div class="form-group">
                                <input type="password" class="form-control form-control-sm" id="deleteDatabaseNameinputconfirm" placeholder="Masterkey..." value="">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="checkDeleteDatabase()" id="buttondeleteDatabaseModalCheck">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterdeleteDatabaseCheck" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Check
                                </button>
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="deleteConfirmDatabase()" id="buttondeleteDatabaseModal" style="display: none;">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterdeleteDatabase" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Delete Database
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#deleteDatabaseDialog").draggable({ handle: "#deleteDatabaseHeader", containment: "#deleteDatabase" }); 
            </script>
        </div>
        <div class="modal" id="configMasterkey" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="configMasterkeyLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" id="configMasterDialog">
                    <div class="modal-header" data-modal="header" id="configMasterHeader">
                        <span class="modal-title">Config Masterkey</span>
                        <button type="button" class="close button-close p-0 m-0 text-white" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"></small>
                    </div>
                    <div class="modal-body bg-white">
                        <small class="text-muted">Current Password</small>
                        <div class="input-group input-group-sm mb-2">
                            <input type="password" class="form-control form-control-sm" id="configMasterkeyNameinputCurrent" placeholder="Name..." value="">
                            <div class="input-group-append" id="button-addon4">
                                <button class="btn btn-outline-secondary" type="button" id="configMasterkeyNameinputCurrentEye" 
                                data-input="configMasterkeyNameinputCurrent" onclick="changeVisPassButtonGen(this)"><i class="fa fa-eye-slash"></i></button>
                            </div>
                        </div>
                        <div class="invalid-feedback" id="feedbackPassCurrent">
                            <strong>Current Password wrong!</strong>
                        </div>
                        <small class="text-muted">New Password</small>
                        <div class="input-group input-group-sm mb-2">
                            <input type="password" class="form-control form-control-sm" id="configMasterkeyNameinputNew" placeholder="Name..." value="">
                            <div class="input-group-append" id="button-addon4">
                                <button class="btn btn-outline-secondary" type="button" id="configMasterkeyNameinputNewEye" 
                                data-input="configMasterkeyNameinputNew" onclick="changeVisPassButtonGen(this)"><i class="fa fa-eye-slash"></i></button>
                            </div>
                        </div>
                        <div class="invalid-feedback" id="feedbackPassMatch">
                            <strong>Passwords not equal</strong>, passwords must match!
                        </div>
                        <small class="text-muted">Confirm Password</small>
                        <div class="input-group input-group-sm">
                            <input type="password" class="form-control form-control-sm" id="configMasterkeyNameinputConfirm" placeholder="Name..." value="">
                            <div class="input-group-append" id="button-addon4">
                                <button class="btn btn-outline-secondary" type="button" id="configMasterkeyNameinputConfirmEye" 
                                data-input="configMasterkeyNameinputConfirm" onclick="changeVisPassButtonGen(this)"><i class="fa fa-eye-slash"></i></button>
                            </div>
                        </div>
                        <div class="invalid-feedback" id="feedbackPassSame">
                            <strong>Same Passwords</strong>, new password and current must be different!
                        </div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="configMasterkeychange()" id="buttonconfigMasterkeyModal">
                                    <div class="spinner-border spinner-border-sm" id="spinnerWaiterconfigMasterkey" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Change Masterkey
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#configMasterDialog").draggable({ handle: "#configMasterHeader", containment: "#configMasterkey" }); 
            </script>
        </div>
        <div class="modal" id="uploadDataModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="uploadDataModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content border-0" id="uploadDataModalDialog">
                    <div class="modal-header" data-modal="header" id="uploadDataModalHeader">
                        <span class="modal-title" >Upload Database</span>
                        <button type="button" class="close button-close p-0 m-0" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"> </small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="customFile" onchange="readFile()">
                            <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>
                        <div class="panelInfoDatabaseHeader mt-2" id="filenameRead">file.json</div>
                        <div class="panelInfoDatabase pt-1" id="readPanelAll"></div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-6 order-2">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-6 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="loadDataToDatabase()" id="buttonLoadFiletoDatabase">
                                    <div class="spinner-border spinner-border-sm" id="spinerloadtodatabase" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Load Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#uploadDataModalDialog").draggable({ handle: "#uploadDataModalHeader", containment: "#uploadDataModal" }); 
            </script>
        </div>
        <div class="modal" id="saveModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="saveModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content border-0" id="saveModalDialog">
                    <div class="modal-header" data-modal="header" id="saveModalHeader">
                        <span class="modal-title" >Save Databases</span>
                        <button type="button" class="close button-close p-0 m-0" data-dismiss="modal" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"> </small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="form-group">
                            <label for="inputNameFileCustom">Filename</label>
                            <input type="text" class="form-control" id="inputNameFileCustom" placeholder="Name">
                            <small class="text-muted">This will be the name of the file</small>
                        </div>
                        <div class="panelInfoDatabaseHeader">file.json</div>
                        <div class="panelInfoDatabase" id="reviewInfoPanel"></div>
                    </div>
                    <div class="modal-footer bg-white p-0">
                        <div class="row no-gutters w-100 m-0">
                            <div class="col-4 order-3">
                                <button type="button" class="btn btn-close btn-block m-0 rounded-0" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                            <div class="col-4 order-2">
                                <button type="button" class="btn btn-secondary btn-block m-0 rounded-0" onclick="reviewInfo()" id="buttonSaveFileCustomReview">
                                    <div class="spinner-border spinner-border-sm" id="spinersaveFilecustomReview" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Review Info
                                </button>
                            </div>
                            <div class="col-4 order-1">
                                <button type="button" class="btn btn-primary btn-block m-0 rounded-0" onclick="makeFile()" id="buttonSaveFileCustomSave">
                                    <div class="spinner-border spinner-border-sm" id="spinersaveFilecustomSave" role="status" style="display: none;">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    Save File
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                $("#saveModalDialog").draggable({ handle: "#saveModalHeader", containment: "#saveModal" }); 
            </script>
        </div>
        <div class="modal" id="modalfindintables" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="modalfindintablesLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen" role="document" style="height: 95.3vh;">
                <div class="modal-content border-0" style="height: calc(50px + 80%);" id="modalfindDialog">
                    <div class="modal-header" data-modal="header" id="modalfindHeader">
                        <span class="modal-title" >Search</span>
                        <button type="button" class="close button-close p-0 m-0" onclick="closeModalSearch()" aria-label="Close">
                            <h6>x</h6>
                        </button>
                        <small class="order-3"> </small>
                    </div>
                    <div class="modal-body bg-white">
                        <div class="d-flex justify-content-between pb-3">
                            <div class="words">
                                <small class="text-muted">Rows will appear here</small><br>
                                <strong>Result:</strong>
                            </div>
                            <input class="form-control search-bar mr-0" type="search" placeholder="Search" onkeyup="searchonfind()" aria-label="Search" id="searchBarTablesModal">
                        </div>
                        <div class="table-responsive border-top-0 w-100" id="tableidresponsivesearch">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center align-items-center h-100 bg-light" id="blankButtonScreen">
            <div class="cerrojo d-flex flex-column" role="button" onclick="$('#masterKey').modal('show');">
                <button type="button" class="btn mx-auto"><i class="fa fa-lock text-gray fa-5x"></i></button>
                <p class="text-muted">Unlock Workspace</p>
            </div>
        </div>
        <div id="block_workSpace" style="display: none;">
            <div class="alert alert-success fade" role="alert" id="close_addNewEntryAlert" 
            style="position: absolute;width: 25%;top: 35%;left: 37.5%;z-index: 6;">
                <div class="h-100 d-flex align-items-center w-100 flex-column">
                    <p class="mb-0 emoji" style="font-size: 50px;">😁</p>
                    <strong>Yey!</strong> You added a new Entry.
                </div>
            </div>
            <div class="alert alert-success fade" role="alert" id="close_addNewDatabase" 
            style="position: absolute;width: 25%;top: 35%;left: 37.5%;z-index: 6;">
                <div class="h-100 d-flex align-items-center w-100 flex-column">
                    <p class="mb-0 emoji" style="font-size: 50px;">😁</p>
                    <strong>Yey!</strong> You added a new database.
                </div>
            </div>
            <div class="alert alert-success fade" role="alert" id="close_deleteDatabase" 
            style="position: absolute;width: 25%;top: 35%;left: 37.5%;z-index: 6;">
                <div class="h-100 d-flex align-items-center w-100 flex-column">
                    <p class="mb-0 emoji" style="font-size: 50px;">😁</p>
                    <strong>Yey!</strong> You delete a database.
                </div>
            </div>
            <div class="alert alert-success fade" role="alert" id="close_masterchanged" 
            style="position: absolute;width: 25%;top: 35%;left: 37.5%;z-index: 6;">
                <div class="h-100 d-flex align-items-center w-100 flex-column">
                    <p class="mb-0 emoji" style="font-size: 50px;">🤫</p>
                    <strong>Yey!</strong> Masterkey Changed.
                </div>
            </div>
            <div class="alert alert-success fade" role="alert" id="close_saveFileAlert" 
            style="position: absolute;width: 25%;top: 35%;left: 37.5%;z-index: 6;">
                <div class="h-100 d-flex align-items-center w-100 flex-column">
                    <p class="mb-0 emoji" style="font-size: 50px;">😁</p>
                    <strong>Yey!</strong> You safe your data.
                </div>
            </div>
            <nav class="navbar navbar-light navbar-expand-md d-flex d-md-flex justify-content-md-start align-items-md-start p-0 bg-primary" 
            style="height: 30px;">
                <div class="container-fluid">
                    <span class="navbar-brand p-0 text-white"><h4>Passafe</h4></span>
                    <!--<ul class="nav navbar-nav mr-auto p-0 nav-just">
                            <li class="nav-item dropdown p-0 mr-2">
                                <div class="dropdown">
                                    <button class="btn dropdown-toggle p-0 text-white" type="button" id="fileMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        File
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="fileMenuButton">
                                        <a class="dropdown-item" href="#">New Database</a>
                                        <a class="dropdown-item" href="#">New entry</a>
                                        <a class="dropdown-item" href="#">Open Database</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#">Master Key</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#">Lock Workspace</a>
                                        <a class="dropdown-item" href="#">Close</a>
                                    </div>
                                </div>
                            </li>
                            <li class="nav-item dropdown p-0 mr-2">
                                <div class="dropdown">
                                    <button class="btn dropdown-toggle p-0  text-white" type="button" id="editMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Edit
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="editMenuButton">
                                        <a class="dropdown-item" href="#" id="edit_copyUser">Copy Username</a>
                                        <a class="dropdown-item" href="#" id="edit_copyPass">Copy Password</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#">Add entry</a>
                                        <a class="dropdown-item" href="#">Edit entry</a>
                                        <a class="dropdown-item" href="#">Delete entry</a>
                                        <a class="dropdown-item" href="#">Duplicate entry</a>
                                    </div>
                                </div>
                            </li>
                            <li class="nav-item dropdown p-0 mr-2">
                                <div class="dropdown">
                                    <button class="btn dropdown-toggle p-0  text-white" type="button" id="toolsMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Tools
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="toolsMenuButton">
                                        <a class="dropdown-item" href="#">Generate Password</a>
                                        <a class="dropdown-item" href="#">Trigger</a>
                                    </div>
                                </div>
                            </li>
                        </ul>-->
                </div>
            </nav>
            <div class="container-fluid" style="height: 95vh;">
                <div class="row  p-1 position-relative bg-light" style="height: 50px; z-index: 5;">
                    <div class="col">
                        <div class="container-fluid px-0">
                            <div class="row justify-content-between">
                                <div class="mt-1 col-6 d-flex align-items-center">
                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Add Entry" id="addentrybutton">
                                    <i class="fa fa-plus text-white"></i>
                                    </button>
                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Add Database" onclick="openModaladddatabase()">
                                        <i class="fa fa-database text-white"></i>
                                    </button>
                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Delete Database" id="deleteDatabaseButton" onclick="openModaldeletedatabase()">
                                        <i class="fa fa-trash text-white"></i>
                                    </button>
                                    <!-- 
                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Create File Database">
                                        <i class="fa fa-server text-white"></i>
                                    </button> 
                                    -->
                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Lock WorkSpace" onclick="lockWorkspace()">
                                        <i class="fa fa-lock text-white"></i>
                                    </button>

                                    <button class="btn button-actions p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Search" onclick="searchinTables()">
                                        <i class="fa fa-search text-white"></i>
                                    </button>
                                </div>
                                <div class="mt-1 col-6 d-flex justify-content-end">
                                    <div class="d-inline w-50 d-flex justify-content-end">
                                        <span class="sr-only" id="nameoftableon"></span>
                                        <button class="btn button-actions-bottom p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Hide lv5 passwords" id="reloadlvl5pass" onclick="getPasswords()">
                                            <i class="fas fa-eye-slash text-white"></i>
                                        </button>
                                        <button class="btn button-actions-bottom p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Master Key Config" onclick="openModalConfigMasterkey()">
                                            <i class="fa fa-key text-white"></i>
                                        </button>
                                        <button class="btn button-actions-bottom p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Upload databases" onclick="openModalUploadData()">
                                            <i class="fas fa-file-archive text-white"></i>
                                        </button>
                                        <button class="btn button-actions-bottom p-0 mr-3" type="button" data-toggle="tooltip" data-placement="bottom" title="Save Passwords to File" onclick="openmakeFile()">
                                            <i class="fas fa-save text-white"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="height: 80%;">
                    <div class="col-2 position-relative px-0" >
                        <h6 class="text-white" style="z-index: 6; position: absolute; top: 4px; left: 10px;">Databases</h6>
                        <div class="position-absolute blue-left"></div>
                        <div class="image-back" style="z-index: 0;"></div>
                        <div class="h-75" style="z-index: 5; padding-top: 28px;">
                            <div class="list-group w-100 bg-white h-100" id="list_databases" role="tablist">
                                <div class="skeleton-list-a"></div>
                                <div class="skeleton-list-a"></div>
                                <div class="skeleton-list-a"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-10 px-0 bg-light">
                        <div class="tab-content" id="nav-tabContent">
                            
                            <div class="d-flex justify-content-center" id="spinerToHide">
                                <div class="spinner-border" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row position-relative bg-primary d-flex justify-content-between" style="height: calc(25.4% - 80px);">
                    <div class="col-2" style="z-index: 5;">
                        <p id="noyet" class="text-white"></p>
                    </div>
                    <div class="col-10 pl-1" style="z-index: 5;">
                        <small class="d-block text-white"><i class="fas fa-info-circle"></i> Entry info:</small>
                        <p id="entryInfo" class="text-white h-50"></p>
                    </div>
                    <svg width="100%" height="20%" version="1.1" xmlns="http://www.w3.org/2000/svg" class="wave"><defs></defs><path id="feel-the-wave" d=""/></svg>
                    <svg width="100%" height="20%" version="1.1" xmlns="http://www.w3.org/2000/svg" class="wave"><defs></defs><path id="feel-the-wave-two" d=""/></svg>
                </div>
            </div>
            <div class="d-none" id="popover-content-genpass">
                <div style="height: 230px !important;">
                    <p>Password must contain:</p>
                    <div class="form-group">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="lowercaseCheck">
                            <span class="custom-control-label" for="lowercaseCheck">Lower Case</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="uppercaseCheck">
                            <span class="custom-control-label" for="uppercaseCheck">Upper Case</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="numbersCheck">
                            <span class="custom-control-label" for="numbersCheck">Numbers</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="charactersCheck">
                            <span class="custom-control-label" for="charactersCheck">Characters</span>
                        </label>
                    </div>

                    <div class="dropdown-divider"></div>
                    <a type="button" class="btn btn-danger btn-sm py-0 btn-block mx-auto" onclick="generatePassButton()" >Gen Password</a>
                </div>
            </div>
            <div class="d-none" id="popover-content-iconselect">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-3 px-2" >
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light" style="width: 50px;" type="button"><i class='fa fa-key' style='color: #ff9900;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-globe' style='color: #00790a;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-terminal' style='color: #000000;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-at' style='color: #ff351b;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-server' style='color: #2e2e2e;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-file' style='color: #949494;'></i></button>
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-address-card' style='color: #008cff;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-apple' style='color: #000000;'> </i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-cc-visa' style='color: #0051ff;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-cog' style='color: #00a308;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-steam' style='color: #2b3963;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-heart' style='color: #ff0000;'></i></button>
                            
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-comments' style='color: #006eff;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fa fa-desktop' style='color: #000000;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-amazon' style='color: #fd8700;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-app-store' style='color: #004797;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-spotify' style='color: #00a81c;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-microsoft' style='color: #004ea8;'></i></button>
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-dropbox' style='color: #006eff;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fas fa-wifi' style='color: #fede0c;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-aws' style='color: #fd8700;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-jira' style='color: #3391fc;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-chrome' style='color: #f43131;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-confluence' style='color: #3f98fc;'></i></button>
                            
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-discord' style='color: #7289DA;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-facebook' style='color: #4867AA;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-github' style='color: #3c3c3c;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-google' style='color: #c93f3f;'></i></button>
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-linkedin' style='color: #7289DA;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-linux' style='color: #e3ae00;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-paypal' style='color: #0082e0;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-reddit' style='color: #f1c639;'></i></button>
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-twitter' style='color: #389bff;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-windows' style='color: #0062e3;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-xbox' style='color: #168c04;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-youtube' style='color: #f13939;'></i></button>
                        </div>
                        <div class="col-3 px-2">
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-google-drive' style='color: #3a9143;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-instagram' style='color: #f0b93a;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-slack' style='color: #ac53e3;'></i></button>
                            <button class="btn btn-icon py-1 mb-1 btn-outline-light " style="width: 50px;" type="button"><i class='fab fa-twitch' style='color: #9b3af0;'></i></button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3 px-2">
                            
                        </div>
                        <div class="col-3 px-2">
                            
                        </div>
                        <div class="col-3 px-2">
                            
                        </div>
                        <div class="col-3 px-2">
                            
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <script src="js/db.js"></script>
        <script src="js/clipboard.min.js"></script>
        <script src="js/ui.js"></script>
        <script src="js/modals.js"></script>
        <script src="js/wavify.js"></script>
        <script src="js/crypto.js"></script>
        <script src="js/genpass.js"></script>
        <script src="js/saveFile.js"></script>
        <script src="js/app.js"></script>
        <script>if (window.module) module = window.module;</script>
    </body>
</html>